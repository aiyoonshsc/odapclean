# [PRD] 오답클린 (OdapClean) - High School Math Workbook

## 1. 제품 개요 (Product Overview)
**오답클린**은 고등학생들이 수학 오답을 단순히 저장하는 것을 넘어, 자신의 사고 과정을 기록(힌트)하고 풀이 시간을 훈련하여 실전 감각을 극대화하는 **지능형 오답 관리 솔루션**입니다.

## 2. 핵심 목표 (Goals)
1. **입력 최적화**: 사진 촬영 및 크롭을 통해 오답 등록 시간을 30초 이내로 단축.
2. **사고력 훈련**: 사용자가 직접 등록한 단계별 힌트를 통해 자기 주도적 복습 유도.
3. **실전 대비**: 문제당 소요 시간 측정 및 분석을 통한 시간 관리 능력 배양.
4. **사용자 자율성**: 고교 교과 과정을 사용자가 직접 수정 및 관리할 수 있는 유연함 제공.

## 3. 유저 스토리 (User Stories)
- **학습자**: "틀린 문제와 정답지를 빠르게 사진 찍어 저장하고 싶다."
- **학습자**: "등록할 때 내가 놓쳤던 아이디어를 단계별 힌트로 적어두고 싶다."
- **학습자**: "다시 풀 때 힌트를 하나씩 열어보며 내 힘으로 끝까지 풀어보고 싶다."
- **학습자**: "내가 어떤 단원에서 시간을 많이 잡아먹는지 통계로 확인하고 싶다."

## 4. 기능 요구사항 (Functional Requirements)

### 4.1. 오답 등록 및 이미지 처리
- **Dual Crop**: 인앱 카메라로 문제와 해설지를 각각 촬영 후 영역 지정(Crop) 저장.
- **Curriculum Selection**: 과목 > 대단원 > 소단원 계층 구조 선택.
  - *특화*: 최근 사용한 폴더 3개를 상단 칩(Chip) 형태로 노출.
- **Customization**: 기본 제공 교과 과정 외 사용자가 직접 폴더 생성/수정/삭제 가능.

### 4.2. 단계별 힌트 (Step-by-Step Hints)
- **Hint Input**: 문제당 최대 5개의 텍스트 힌트(풀이 시 고려사항) 입력 기능.
- **Progressive Reveal**: 복습 모드에서 'Hint' 버튼 클릭 시 1단계부터 순차적 노출.

### 4.3. 타임 로그 및 복습 시스템
- **Focus Timer**: 복습 화면 진입 시 타이머 자동 실행 및 목표 시간 대비 소요 시간 측정.
- **Solve Status**: '완전정복(Clean)', '다시풀기(Retry)', '미해결(Dirty)' 상태 관리.

## 5. 데이터 설계 (Data Design)

### 5.1. ERD (Entity Relationship Diagram)
- **Folder**: `id`, `user_id`, `name`, `color`, `last_accessed_at`
- **Problem**: `id`, `folder_id`, `problem_url`, `answer_url`, `target_time`
- **Hint**: `id`, `problem_id`, `step_number`, `content`
- **SolveLog**: `id`, `problem_id`, `time_spent`, `hints_used`, `is_success`, `created_at`

## 6. 화면 정의서 요약 (UI Flow)
1. **Home**: 과목별 오답 현황 및 오늘 복습할 문제 리스트.
2. **Add Problem**: 카메라 -> 크롭 -> 단원 선택(최근 단원 추천) -> 힌트 입력.
3. **Solve Mode**: 문제 이미지 + 타이머 + 힌트 버튼(클릭 시 노출) + 완료 버튼.
4. **Analytics**: 단원별 평균 풀이 시간 및 오답 원인 통계 차트.

## 7. 성공 지표 (Success Metrics)
- **Daily Active Users (DAU)**: 매일 오답을 등록하거나 복습하는 학생 수.
- **Hint Conversion**: 힌트를 보고 해설지 없이 정답을 맞힌 비율.
- **Time Reduction**: 동일 문제 재풀이 시 소요 시간 단축률.